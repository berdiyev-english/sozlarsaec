<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>BeWords - –ò–∑—É—á–µ–Ω–∏–µ –∞–Ω–≥–ª–∏–π—Å–∫–∏—Ö —Å–ª–æ–≤</title>
  
  <!-- Favicon -->
  <link rel="icon" type="image/png" sizes="96x96" href="/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
  <link rel="icon" href="/favicon.ico" sizes="any">
  
  <!-- Apple Touch Icon -->
  <link rel="apple-touch-icon" href="/icon-192.png">
  
  <!-- Manifest -->
  <link rel="manifest" href="/manifest.json">
  
  <!-- Theme Color -->
  <meta name="theme-color" content="#58CC02">
  
  <!-- Apple Meta Tags -->
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-title" content="BeWords">
  <meta name="apple-mobile-web-app-status-bar-style" content="default">
  
  <!-- SEO –¥–ª—è –ø–æ–∏—Å–∫–æ–≤–∏–∫–æ–≤ –∏ —Å–æ—Ü—Å–µ—Ç–µ–π -->
  <meta name="description" content="–ò–Ω–Ω–æ–≤–∞—Ü–∏–æ–Ω–Ω–∞—è –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ –¥–ª—è –∏–∑—É—á–µ–Ω–∏—è –∞–Ω–≥–ª–∏–π—Å–∫–∏—Ö —Å–ª–æ–≤ —á–µ—Ä–µ–∑ –∏–≥—Ä—ã">
  <meta property="og:title" content="BeWords - –ò–∑—É—á–µ–Ω–∏–µ –∞–Ω–≥–ª–∏–π—Å–∫–∏—Ö —Å–ª–æ–≤">
  <meta property="og:description" content="–ò–Ω–Ω–æ–≤–∞—Ü–∏–æ–Ω–Ω–∞—è –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ –¥–ª—è –∏–∑—É—á–µ–Ω–∏—è –∞–Ω–≥–ª–∏–π—Å–∫–∏—Ö —Å–ª–æ–≤ —á–µ—Ä–µ–∑ –∏–≥—Ä—ã">
  <meta property="og:image" content="https://bewords.ru/og-image.png">
  <meta property="og:url" content="https://bewords.ru">
  <meta property="og:type" content="website">
  <link rel="canonical" href="https://bewords.ru">
  <link rel="stylesheet" href="styles.css">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

  <style>
    /* AI Chat Iframe Styles */
    .ai-chat-container {
      width: 100%;
      height: calc(100vh - 200px);
      min-height: 500px;
      display: flex;
      flex-direction: column;
      gap: 1rem;
    }
    .ai-chat-iframe {
      width: 100%;
      height: 100%;
      border: none;
      border-radius: 12px;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
      background: var(--bg-secondary);
    }
    .ai-chat-description {
      background: var(--bg-secondary);
      padding: 1rem;
      border-radius: 12px;
      border-left: 4px solid var(--accent-primary);
      margin-bottom: 1rem;
    }
    .ai-chat-description h3 {
      margin: 0 0 0.5rem 0;
      color: var(--text-primary);
      font-size: 1.1rem;
    }
    .ai-chat-description p {
      margin: 0;
      color: var(--text-secondary);
      font-size: 0.95rem;
      line-height: 1.5;
    }

    /* Header */
    .info-btn, .theme-toggle { display: none !important; }
    .settings-btn {
      background: var(--bg-secondary);
      border: 1px solid var(--border-color);
      border-radius: var(--radius-md);
      width: 40px; height: 40px;
      display: flex; align-items: center; justify-content: center;
      cursor: pointer; transition: all 0.2s ease; color: var(--text-primary);
    }
    .settings-btn:hover { background: var(--accent-primary); color: #fff; transform: translateY(-2px); }

    /* Keep bulk header visible */
    .words-header {
      position: sticky;
      top: 64px; /* —Å–º–µ—â–µ–Ω–∏–µ –ø–æ–¥ —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—É—é —à–∞–ø–∫—É, –ø–æ–¥—Å—Ç—Ä–æ–π—Ç–µ –ø–æ–¥ –≤–∞—à header */
      z-index: 5;
      background: var(--bg-primary);
    }

    /* Buttons text in word cards */
    .action-text-btn {
      border: 1px solid var(--border-color);
      background: var(--bg-secondary);
      padding: 6px 10px;
      border-radius: 8px;
      font-weight: 600;
      cursor: pointer;
      color: var(--text-primary);
    }
    .action-text-btn.add { border-color: #10b981; color: #10b981; background: #ecfdf5; }
    .action-text-btn.remove { border-color: #ef4444; color: #ef4444; background: #fee2e2; }
    .action-text-btn:hover { filter: brightness(0.98); }

    /* Mobile adaptations */
    @media (max-width: 768px) {
      .ai-chat-container { height: calc(100vh - 180px); min-height: 400px; }
      .ai-chat-description { padding: 0.75rem; }
      .ai-chat-description h3 { font-size: 1rem; }
      .ai-chat-description p { font-size: 0.9rem; }
    }
    @media (max-width: 480px) {
      .ai-chat-container { height: calc(100vh - 160px); min-height: 350px; }
    }
  </style>
  <!-- Yandex.Metrika counter -->
<script type="text/javascript">
    (function(m,e,t,r,i,k,a){
        m[i]=m[i]||function(){(m[i].a=m[i].a||[]).push(arguments)};
        m[i].l=1*new Date();
        for (var j = 0; j < document.scripts.length; j++) {if (document.scripts[j].src === r) { return; }}
        k=e.createElement(t),a=e.getElementsByTagName(t)[0],k.async=1,k.src=r,a.parentNode.insertBefore(k,a)
    })(window, document,'script','https://mc.yandex.ru/metrika/tag.js?id=105128338', 'ym');

    ym(105128338, 'init', {ssr:true, webvisor:true, clickmap:true, ecommerce:"dataLayer", accurateTrackBounce:true, trackLinks:true});
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/105128338" style="position:absolute; left:-9999px;" alt="" /></div></noscript>
<!-- /Yandex.Metrika counter -->
</head>
<body>
<div class="app-container">
  <header class="app-header">
    <div class="header-content">
      <div class="logo-title">
        <a href="/" class="logo-link" onclick="location.reload(); return false;">
          <img src="/logo1.png" alt="BeWords" class="app-logo">
        </a>
        <h1 class="app-title">BeWords.ru</h1>
      </div>
      <div class="header-actions">
        <button class="support-btn" id="supportBtn" data-testid="support-btn" title="–ü–æ–¥–¥–µ—Ä–∂–∞—Ç—å –ø—Ä–æ–µ–∫—Ç">
          <i class="fas fa-heart"></i>
        </button>
        <button class="settings-btn" id="settingsBtn" data-testid="settings-btn" title="–ù–∞—Å—Ç—Ä–æ–π–∫–∏">
          <i class="fas fa-cog"></i>
        </button>
      </div>
    </div>
  </header>

  <main class="main-content">
    <!-- Levels + Categories -->
    <section id="levels" class="content-section active">
      <div class="section-header">
        <h2>–°–ª–æ–≤–∞ –ø–æ —É—Ä–æ–≤–Ω—è–º</h2>
      </div>

      <div class="levels-grid" id="levelsGrid">
        <div class="level-card" data-level="A1" data-testid="level-card-A1" onclick="window.app && app.showLevelWords('A1')">
          <div class="level-badge beginner">A1</div>
          <h3>Beginner</h3>
          <p>–ë–∞–∑–æ–≤—ã–µ —Å–ª–æ–≤–∞ –¥–ª—è –Ω–∞—á–∏–Ω–∞—é—â–∏—Ö</p>
          <div class="level-stats"><span class="word-count">0 —Å–ª–æ–≤</span></div>
        </div>
        <div class="level-card" data-level="A2" data-testid="level-card-A2" onclick="window.app && app.showLevelWords('A2')">
          <div class="level-badge elementary">A2</div>
          <h3>Elementary</h3>
          <p>–≠–ª–µ–º–µ–Ω—Ç–∞—Ä–Ω—ã–π —É—Ä–æ–≤–µ–Ω—å</p>
          <div class="level-stats"><span class="word-count">0 —Å–ª–æ–≤</span></div>
        </div>
        <div class="level-card" data-level="B1" data-testid="level-card-B1" onclick="window.app && app.showLevelWords('B1')">
          <div class="level-badge intermediate">B1</div>
          <h3>Intermediate</h3>
          <p>–°—Ä–µ–¥–Ω–∏–π —É—Ä–æ–≤–µ–Ω—å</p>
          <div class="level-stats"><span class="word-count">0 —Å–ª–æ–≤</span></div>
        </div>
        <div class="level-card" data-level="B2" data-testid="level-card-B2" onclick="window.app && app.showLevelWords('B2')">
          <div class="level-badge upper-intermediate">B2</div>
          <h3>Upper-Intermediate</h3>
          <p>–í—ã—à–µ —Å—Ä–µ–¥–Ω–µ–≥–æ</p>
          <div class="level-stats"><span class="word-count">0 —Å–ª–æ–≤</span></div>
        </div>
        <div class="level-card" data-level="C1" data-testid="level-card-C1" onclick="window.app && app.showLevelWords('C1')">
          <div class="level-badge advanced">C1</div>
          <h3>Advanced</h3>
          <p>–ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π —É—Ä–æ–≤–µ–Ω—å</p>
          <div class="level-stats"><span class="word-count">0 —Å–ª–æ–≤</span></div>
        </div>
        <div class="level-card" data-level="C2" data-testid="level-card-C2" onclick="window.app && app.showLevelWords('C2')">
          <div class="level-badge proficiency">C2</div>
          <h3>Proficiency</h3>
          <p>–ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π —É—Ä–æ–≤–µ–Ω—å</p>
          <div class="level-stats"><span class="word-count">0 —Å–ª–æ–≤</span></div>
        </div>
      </div>

      <!-- Categories -->
      <div class="section-header" style="margin-top:1rem;">
        <h2>–ö–∞—Ç–µ–≥–æ—Ä–∏–∏</h2>
      </div>
      <div class="levels-grid" id="categoriesGrid">
        <div class="level-card" data-category="IRREGULARS" data-testid="category-card-irregulars" onclick="window.app && app.showCategoryWords('IRREGULARS')">
          <div class="level-badge advanced">Irregular Verbs</div>
          <h3>–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –≥–ª–∞–≥–æ–ª—ã</h3>
          <p>–§–æ—Ä–º—ã –≥–ª–∞–≥–æ–ª–æ–≤</p>
          <div class="level-stats"><span class="word-count">0 —Å–ª–æ–≤</span></div>
        </div>
        <div class="level-card" data-category="PREPOSITIONS" data-testid="category-card-prepositions">
          <div class="level-badge elementary">Prepositions</div>
          <h3>–ü—Ä–µ–¥–ª–æ–≥–∏</h3>
          <p>–ß–∞—Å—Ç—ã–µ –ø—Ä–µ–¥–ª–æ–≥–∏</p>
          <div class="level-stats"><span class="word-count">0 —Å–ª–æ–≤</span></div>
        </div>
        <div class="level-card" data-category="PHRASAL_VERBS" data-testid="category-card-phrasal">
          <div class="level-badge beginner">Phrasal Verbs</div>
          <h3>–§—Ä–∞–∑–æ–≤—ã–µ –≥–ª–∞–≥–æ–ª—ã</h3>
          <p>–ß–∞—Å—Ç—ã–µ —Ñ—Ä–∞–∑–æ–≤—ã–µ –≥–ª–∞–≥–æ–ª—ã</p>
          <div class="level-stats"><span class="word-count">0 —Å–ª–æ–≤</span></div>
        </div>
        <div class="level-card" data-category="IDIOMS" data-testid="category-card-idioms">
          <div class="level-badge proficiency">Idioms</div>
          <h3>–ò–¥–∏–æ–º—ã</h3>
          <p>–†–∞–∑–≥–æ–≤–æ—Ä–Ω—ã–µ –≤—ã—Ä–∞–∂–µ–Ω–∏—è</p>
          <div class="level-stats"><span class="word-count">0 —Å–ª–æ–≤</span></div>
        </div>
         <div class="level-card" data-category="MEDICAL" data-testid="category-card-medical">
          <div class="level-badge elementary">Medical</div>
          <h3>–ú–µ–¥–∏—Ü–∏–Ω—Å–∫–∏–π –∞–Ω–≥–ª–∏–π—Å–∫–∏–π</h3>
          <p>–ë–∞–∑–∞ –¥–ª—è –≤—Å–µ—Ö</p>
          <div class="level-stats"><span class="word-count">0 —Å–ª–æ–≤</span></div>
        </div>
      </div>

      <!-- Words List (levels or categories) -->
      <div id="wordsContainer" class="words-container hidden">
        <div class="words-header">
          <button class="back-btn" id="backToLevels" data-testid="back-to-levels" onclick="window.app && app.backToLevels()">
            <i class="fas fa-arrow-left"></i>
            –ù–∞–∑–∞–¥
          </button>
          <h3 id="currentLevelTitle">–°–ª–æ–≤–∞</h3>
          <div class="level-bulk-actions">
            <button id="bulkToggleBtn" class="action-text-btn add" data-testid="bulk-toggle-btn" title="–î–æ–±–∞–≤–∏—Ç—å –≤—Å–µ">
              –î–æ–±–∞–≤–∏—Ç—å –≤—Å–µ
            </button>
          </div>
        </div>
        <div id="wordsList" class="words-list"></div>
      </div>
    </section>

    <!-- Learning -->
    <section id="learning" class="content-section">
      <div class="section-header">
        <h2>–ò–∑—É—á–∞—é</h2>
        <div class="section-stats"><span id="learningCount">0 —Å–ª–æ–≤</span></div>
      </div>

      <p class="mode-help">
        –í—Å–µ–≥–æ –¥–æ—Å—Ç—É–ø–Ω–æ 2 —Ä–µ–∂–∏–º–∞ –æ–±—É—á–µ–Ω–∏—è :<br><br>
        1) –£—á–∏—Ç—å - —É–º–Ω—ã–π –∞–ª–≥–æ—Ä–∏—Ç–º –±—É–¥–µ—Ç –¥–æ–±–∞–≤–ª—è—Ç—å –≤–∞–º —Å–ª–æ–≤–∞ –¥–ª—è –∑–∞—É—á–∏–≤–∞–Ω–∏—è –ø–æ –Ω–µ–º–Ω–æ–∂–∫—É <br>
        2) –ü–æ–≤—Ç–æ—Ä–µ–Ω–∏–µ - –ø–æ–≤—Ç–æ—Ä—è–π—Ç–µ –≤–µ—Å—å —Å–ø–∏—Å–æ–∫ —Å–ª–æ–≤ –∑–∞ —Ä–∞–∑ <br><br>
        * –§–ª–µ—à–∫–∞—Ä—Ç–æ—á–∫–∏ ‚Äî –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è —Å–ª–æ–≤–æ –∏ –ø–µ—Ä–µ–≤–æ–¥; –æ—Ç–≤–µ—Ç —Å–∫—Ä—ã—Ç –¥–æ –Ω–∞–∂–∞—Ç–∏—è.<br>
        * Quiz ‚Äî –æ–¥–Ω–æ —Å–ª–æ–≤–æ –∏ 4 –≤–∞—Ä–∏–∞–Ω—Ç–∞; –ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ —Å–ª–æ–≤–æ –ø—Ä–æ–∏–∑–Ω–æ—Å–∏—Ç—Å—è –ø–æ—Å–ª–µ –æ—Ç–≤–µ—Ç–∞.<br>
      </p>

      <div class="toggles-row">
        <div class="mode-toggle" role="tablist" aria-label="study mode">
          <button class="mode-btn active" data-mode="quiz" id="modeQuiz" data-testid="mode-quiz">Quiz</button>
          <button class="mode-btn" data-mode="flashcards" id="modeFlashcards" data-testid="mode-flashcards">–§–ª–µ—à–∫–∞—Ä—Ç–æ—á–∫–∏</button>
          <button class="mode-btn" data-mode="list" id="modeList" data-testid="mode-list">–°–ø–∏—Å–æ–∫ —Å–ª–æ–≤</button>
        </div>
        <div class="practice-toggle" role="tablist" aria-label="practice mode">
          <button class="practice-btn active" data-practice="scheduled" id="practiceScheduled" data-testid="practice-scheduled">–£—á–∏—Ç—å</button>
          <button class="practice-btn" data-practice="endless" id="practiceEndless" data-testid="practice-endless">–ü–æ–≤—Ç–æ—Ä–µ–Ω–∏–µ</button>
        </div>
      </div>

      <div id="learningWordsList" class="words-list">
        <div class="empty-state">
          <i class="fas fa-book-open"></i>
          <h3>–ü–æ–∫–∞ –Ω–µ—Ç —Å–ª–æ–≤ –¥–ª—è –∏–∑—É—á–µ–Ω–∏—è</h3>
          <p>–î–æ–±–∞–≤—å—Ç–µ —Å–ª–æ–≤–∞ –∏–∑ —Å–ø–∏—Å–∫–∞ –ø–æ —É—Ä–æ–≤–Ω—è–º –∏–ª–∏ —Å–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–µ</p>
        </div>
      </div>
    </section>

    <!-- New Words -->
    <section id="new-words" class="content-section">
      <div class="section-header">
        <h2>–ù–æ–≤—ã–µ —Å–ª–æ–≤–∞</h2>
      </div>

      <!-- Single add -->
      <div class="add-word-form">
        <div class="form-group">
          <label for="newWord">–ê–Ω–≥–ª–∏–π—Å–∫–æ–µ —Å–ª–æ–≤–æ</label>
          <input type="text" id="newWord" placeholder="–í–≤–µ–¥–∏—Ç–µ —Å–ª–æ–≤–æ –Ω–∞ –∞–Ω–≥–ª–∏–π—Å–∫–æ–º" data-testid="new-word-input">
        </div>
        <div class="form-group">
          <label for="newTranslation">–ü–µ—Ä–µ–≤–æ–¥</label>
          <input type="text" id="newTranslation" placeholder="–í–≤–µ–¥–∏—Ç–µ –ø–µ—Ä–µ–≤–æ–¥" data-testid="new-translation-input">
        </div>
        <div class="form-group">
          <label for="newLevel">–£—Ä–æ–≤–µ–Ω—å</label>
          <select id="newLevel" data-testid="new-level-select">
            <option value="A1">A1 - Beginner</option>
            <option value="A2">A2 - Elementary</option>
            <option value="B1">B1 - Intermediate</option>
            <option value="B2">B2 - Upper-Intermediate</option>
            <option value="C1">C1 - Advanced</option>
            <option value="C2">C2 - Proficiency</option>
            <option value="IRREGULARS">Irregular Verbs</option>
            <option value="PREPOSITIONS">Prepositions</option>
          </select>
        </div>
        <button class="add-word-btn" id="addWordBtn" data-testid="add-word-btn">
          <i class="fas fa-plus"></i>
          –î–æ–±–∞–≤–∏—Ç—å —Å–ª–æ–≤–æ
        </button>
      </div>

      <!-- Bulk add -->
      <div class="add-word-form" id="bulkAddForm">
        <h3 style="margin-bottom:8px;">–ú–∞—Å—Å–æ–≤–æ–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ</h3>
        <p class="mode-help" id="bulkHelp" data-testid="bulk-help">
          –ù–∞—à–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –º–∞—Å—Å–æ–≤–æ–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ —Å–ª–æ–≤ –∏ —Ñ—Ä–∞–∑<br><br>
          –ö–∞–∂–¥–æ–µ –∞–Ω–≥–ª–∏–π—Å–∫–æ–µ —Å–ª–æ–≤–æ / —Ñ—Ä–∞–∑—É –≤–≤–æ–¥–∏—Ç–µ —Å –Ω–æ–≤–æ–π —Å—Ç—Ä–æ–∫–∏<br><br>
          –ü–µ—Ä–µ–≤–æ–¥ —É–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ "-" <br><br>
        </p>
        <div class="form-group">
          <label for="bulkLevel">–£—Ä–æ–≤–µ–Ω—å –¥–ª—è –≤—Å–µ—Ö —Å–ª–æ–≤</label>
          <select id="bulkLevel" data-testid="bulk-level-select">
            <option value="A1">A1 - Beginner</option>
            <option value="A2">A2 - Elementary</option>
            <option value="B1">B1 - Intermediate</option>
            <option value="B2">B2 - Upper-Intermediate</option>
            <option value="C1">C1 - Advanced</option>
            <option value="C2">C2 - Proficiency</option>
            <option value="IRREGULARS">Irregular Verbs</option>
            <option value="PREPOSITIONS">Prepositions</option>
          </select>
        </div>
        <div class="form-group">
          <label for="bulkTextarea">–í—Å—Ç–∞–≤—å—Ç–µ —Å—Ç—Ä–æ–∫–∏</label>
          <textarea id="bulkTextarea" rows="6" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä : &#10;&#10;go - –∏–¥—Ç–∏, –µ—Ö–∞—Ç—å, —Ö–æ–¥–∏—Ç—å&#10;table - —Å—Ç–æ–ª&#10;run - –±–µ–∂–∞—Ç—å, –∑–∞–ø—É—Å–∫–∞—Ç—å" data-testid="bulk-textarea" style="width:100%;padding:0.75rem;border:1px solid var(--border-color);border-radius:var(--radius-md);background:var(--bg-primary);color:var(--text-primary);"></textarea>
        </div>
        <button class="add-word-btn" id="bulkAddBtn" data-testid="bulk-add-btn">
          <i class="fas fa-file-import"></i>
          –î–æ–±–∞–≤–∏—Ç—å —Å–ø–∏—Å–æ–∫
        </button>
      </div>

      <div id="customWordsList" class="words-list">
        <h3>–î–æ–±–∞–≤–ª–µ–Ω–Ω—ã–µ —Å–ª–æ–≤–∞</h3>
        <div id="customWords">
          <div class="empty-state">
            <i class="fas fa-plus-circle"></i>
            <h3>–ù–µ—Ç –¥–æ–±–∞–≤–ª–µ–Ω–Ω—ã—Ö —Å–ª–æ–≤</h3>
            <p>–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ñ–æ—Ä–º—ã –≤—ã—à–µ –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –Ω–æ–≤—ã—Ö —Å–ª–æ–≤</p>
          </div>
        </div>
      </div>
    </section>

    <!-- Progress -->
    <section id="progress" class="content-section">
      <div class="section-header">
        <h2>–ü—Ä–æ–≥—Ä–µ—Å—Å</h2>
      </div>
      <div id="progressContent" class="progress-content"></div>
    </section>

    <!-- Games -->
    <section id="games" class="content-section">
      <div class="section-header">
        <h2>–ò–≥—Ä—ã</h2>
      </div>

      <p class="mode-help">
        –ò–≥—Ä–∞–π—Ç–µ –≤ –∏–≥—Ä—ã –∏ –∏–∑—É—á–∞–π—Ç–µ —Å–ª–æ–≤–∞ –≤ –ê–Ω–≥–ª–∏–π—Å–∫–æ–º.<br><br>
        –ß—Ç–æ–±—ã –∑–∞–ø—É—Å—Ç–∏—Ç—å –∏–≥—Ä—É –Ω—É–∂–Ω–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ —Ä–µ—à–∏—Ç—å quiz.<br><br>
        –ö–∞–∂–¥—ã–µ 5 –º–∏–Ω—É—Ç –∏–≥—Ä—ã –≤–∞–º –Ω—É–∂–Ω–æ –±—É–¥–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ –æ—Ç–≤–µ—Ç–∏—Ç—å –Ω–∞ quiz –∏–∑ 4 —Å–ª–æ–≤ , —á—Ç–æ–±—ã –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å –∏–≥—Ä–∞—Ç—å<br><br>
        –¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º –∑–∞ —á–∞—Å –≤—ã –ø–æ–≤—Ç–æ—Ä–∏—Ç–µ 48 —Å–ª–æ–≤ –ø—Ä–æ—Å—Ç–æ –∏–≥—Ä–∞—è –≤ –∏–≥—Ä—ã<br><br>
        –ù–æ–≤–∞—è —ç—Ä–∞ –æ–±—É—á–µ–Ω–∏—è –Ω–∞—á–∞–ª–∞—Å—å —Å "Bewords"<br>
      </p>

      <div class="games-grid">
        <div class="game-card">
          <img src="race.jpg" alt="Subway Surfers" class="game-cover" onerror="this.src='nophoto.jpg'">
          <div class="game-info">
            <h3>Subway Surfers</h3>
            <p>–£–±–µ–≥–∞–π –æ—Ç –∑–ª–æ–≥–æ –æ—Ö—Ä–∞–Ω–Ω–∏–∫–∞. </p>
            <button class="btn btn-primary" id="surfStartBtn" data-testid="surf-start-btn">–°—Ç–∞—Ä—Ç</button>
          </div>
        </div>

        <div class="game-card">
          <img src="bird.jpg" alt="Doodle Jump" class="game-cover" onerror="this.src='nophoto.jpg'">
          <div class="game-info">
            <h3>Flying Bird</h3>
            <p>–ü–æ–ª–µ—Ç–∞–π –∑–∞ –∑–Ω–∞–º–µ–Ω–∏—Ç—É—é –ø—Ç–∏—Ü—É.</p>
            <button class="btn btn-primary" id="doodleStartBtn" data-testid="doodle-start-btn">–°—Ç–∞—Ä—Ç</button>
          </div>
        </div>

        <div class="game-card">
          <img src="2048.jpg" alt="2048" class="game-cover" onerror="this.src='nophoto.jpg'">
          <div class="game-info">
            <h3>2048</h3>
            <p>–ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∞—è –≥–æ–ª–æ–≤–æ–ª–æ–º–∫–∞. –°–æ–±–µ—Ä–∏ –ø–ª–∏—Ç–∫—É 2048!</p>
            <button class="btn btn-primary" id="game2048StartBtn" data-testid="2048-start-btn">–°—Ç–∞—Ä—Ç</button>
          </div>
        </div>

        <div class="game-card">
          <img src="match3.jpg" alt="Rocket Soccer Derby" class="game-cover" onerror="this.src='nophoto.jpg'">
          <div class="game-info">
            <h3>Match 3</h3>
            <p>–°–æ–±–µ—Ä–∏ 3 –∫–æ–Ω—Ñ–µ—Ç–∫–∏ –≤ —Ä—è–¥.</p>
            <button class="btn btn-primary" id="rocketStartBtn" data-testid="rocket-start-btn">–°—Ç–∞—Ä—Ç</button>
          </div>
        </div>

        <div class="game-card">
          <img src="dash.jpg" alt="–ö–∞—Ç–∞–ª–æ–≥ –∏–≥—Ä" class="game-cover" onerror="this.src='nophoto.jpg'">
          <div class="game-info">
            <h3>Geometry-dash</h3>
            <p>–ó–Ω–∞–º–µ–Ω–∏—Ç–∞—è –∏–≥—Ä–∞ —Å –ø—Ä—ã–≥–∞—é—â–µ–º –∫—É–±–∏–∫–æ–º.</p>
            <button class="btn btn-primary" id="catalogStartBtn" data-testid="catalog-start-btn">–û—Ç–∫—Ä—ã—Ç—å</button>
          </div>
        </div>
      </div>
    </section>

    <!-- AI Chat -->
<section id="ai-chat" class="content-section">
  <div class="ai-chat-description">
    <h3>–í–∞—à –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–π AI-–ø–æ–º–æ—â–Ω–∏–∫ –¥–ª—è –∏–∑—É—á–µ–Ω–∏—è –∞–Ω–≥–ª–∏–π—Å–∫–æ–≥–æ –Ω–∞ –±–∞–∑–µ Chat GPT</h3>
    <p>–ó–∞–¥–∞–≤–∞–π—Ç–µ –≤–æ–ø—Ä–æ—Å—ã, –ø—Ä–∞–∫—Ç–∏–∫—É–π—Ç–µ —Ä–∞–∑–≥–æ–≤–æ—Ä–Ω—ã–π –∞–Ω–≥–ª–∏–π—Å–∫–∏–π, –ø–æ–ª—É—á–∞–π—Ç–µ –æ–±—ä—è—Å–Ω–µ–Ω–∏—è –≥—Ä–∞–º–º–∞—Ç–∏–∫–∏ –∏ –ø–æ–º–æ—â—å —Å –ø–µ—Ä–µ–≤–æ–¥–æ–º. AI-—É—á–∏—Ç–µ–ª—å –¥–æ—Å—Ç—É–ø–µ–Ω 24/7 –∏ –≤—Å–µ–≥–¥–∞ –≥–æ—Ç–æ–≤ –ø–æ–º–æ—á—å!</p>
  </div>

  <div class="ai-chat-container">
    <iframe
      id="aiChatFrame"
      src="https://www.yeschat.ai/i/gpts-2OToO9hERt-English-Teacher"
      class="ai-chat-iframe"
      title="AI English Teacher"
      allow="microphone">
    </iframe>
  </div>
  
  <!-- VPN —Å–æ–æ–±—â–µ–Ω–∏–µ –≤—Å–µ–≥–¥–∞ –ø–æ–¥ iframe -->
  <div id="vpnMessage" class="vpn-message">
    <div class="vpn-icon">üåç</div>
    <div class="vpn-content">
      <h4>–£–ø—Å! AI Chat –≤—Ä–µ–º–µ–Ω–Ω–æ –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω</h4>
      <p>–ß—Ç–æ–±—ã –∑–∞–≥—Ä—É–∑–∏—Ç—å AI Chat, –≤–∫–ª—é—á–∏—Ç–µ VPN</p>
      <button class="vpn-retry-btn" onclick="retryLoadingChat()">
        <i class="fas fa-redo"></i> –ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å —Å–Ω–æ–≤–∞
      </button>
    </div>
  </div>
</section>
  </main>

  <nav class="bottom-nav" id="bottomNav">
    <button class="nav-item active" type="button" data-section="levels" data-testid="nav-levels" onclick="window.app && app.switchSection('levels')">
      <i class="fas fa-layer-group"></i><span>–°–ø–∏—Å–∫–∏</span>
    </button>
    <button class="nav-item" type="button" data-section="learning" data-testid="nav-learning" onclick="window.app && app.switchSection('learning')">
      <i class="fas fa-book-reader"></i><span>–ò–∑—É—á–∞—é</span>
    </button>
    <button class="nav-item" type="button" data-section="new-words" data-testid="nav-new-words" onclick="window.app && app.switchSection('new-words')">
      <i class="fas fa-plus"></i><span>–ó–∞–≥—Ä—É–∑–∏—Ç—å</span>
    </button>
    <button class="nav-item" type="button" data-section="progress" data-testid="nav-progress" onclick="window.app && app.switchSection('progress')">
      <i class="fas fa-chart-line"></i><span>–ü—Ä–æ–≥—Ä–µ—Å—Å</span>
    </button>
    <button class="nav-item" type="button" data-section="games" data-testid="nav-games" onclick="window.app && app.switchSection('games')">
      <i class="fas fa-gamepad"></i><span>–ò–≥—Ä—ã</span>
    </button>
    <button class="nav-item" type="button" data-section="ai-chat" data-testid="nav-ai-chat" onclick="window.app && app.switchSection('ai-chat')">
      <i class="fas fa-robot"></i><span>–ò–ò</span>
    </button>
  </nav>
</div>

<audio id="audioPlayer" preload="none"></audio>

<script src="oxford_words_data.js"></script>
<script src="app.js"></script>
<script>
  // Service Worker registration (image caching)
  if ('serviceWorker' in navigator) {
    window.addEventListener('load', () => {
      navigator.serviceWorker.register('/service-worker.js').catch(() => {});
    });
  }
</script>
<script>
let iframeCheckInterval;
let checkAttempts = 0;

// –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ iframe –¥–ª—è AI Chat
function checkIframeLoad() {
  const iframe = document.getElementById('aiChatFrame');
  const vpnMessage = document.getElementById('vpnMessage');
  
  if (!iframe || !vpnMessage) return;
  
  // –°–±—Ä–∞—Å—ã–≤–∞–µ–º –ø—Ä–µ–¥—ã–¥—É—â–∏–µ –ø—Ä–æ–≤–µ—Ä–∫–∏
  if (iframeCheckInterval) {
    clearInterval(iframeCheckInterval);
  }
  checkAttempts = 0;
  
  // –°–∫—Ä—ã–≤–∞–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ –∏–∑–Ω–∞—á–∞–ª—å–Ω–æ
  vpnMessage.classList.remove('show');
  iframe.classList.remove('has-error');
  
  // –ü—Ä–æ–≤–µ—Ä—è–µ–º –∑–∞–≥—Ä—É–∑–∫—É –∫–∞–∂–¥—ã–µ 500–º—Å
  iframeCheckInterval = setInterval(() => {
    checkAttempts++;
    
    // –ü—Ä–æ–≤–µ—Ä—è–µ–º –ø—Ä–∏–∑–Ω–∞–∫–∏ –∑–∞–≥—Ä—É–∑–∫–∏
    const rect = iframe.getBoundingClientRect();
    const isVisible = rect.width > 0 && rect.height > 0;
    const hasContent = iframe.contentWindow !== null;
    
    // –ï—Å–ª–∏ –ø—Ä–æ—à–ª–æ 5 –ø–æ–ø—ã—Ç–æ–∫ (2.5 —Å–µ–∫—É–Ω–¥—ã) –∏ iframe –Ω–µ –∑–∞–≥—Ä—É–∑–∏–ª—Å—è
    if (checkAttempts >= 5) {
      clearInterval(iframeCheckInterval);
      
      // –ü—ã—Ç–∞–µ–º—Å—è –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å iframe
      try {
        // –ï—Å–ª–∏ –º–æ–∂–µ–º –ø–æ–ª—É—á–∏—Ç—å –¥–æ—Å—Ç—É–ø –∫ window, –∑–Ω–∞—á–∏—Ç –∑–∞–≥—Ä—É–∑–∏–ª—Å—è
        if (iframe.contentWindow && iframe.contentWindow.location) {
          console.log('Iframe loaded successfully');
          vpnMessage.classList.remove('show');
          iframe.classList.remove('has-error');
        }
      } catch (e) {
        // Cross-origin –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ - —ç—Ç–æ –º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–æ—Ä–º–∞–ª—å–Ω–æ –¥–ª—è –≤–Ω–µ—à–Ω–∏—Ö iframe
        // –ü—Ä–æ–≤–µ—Ä—è–µ–º –ø–æ —Ä–∞–∑–º–µ—Ä–∞–º
        if (!isVisible) {
          // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ
          console.log('Iframe failed to load - showing VPN message');
          vpnMessage.classList.add('show');
          iframe.classList.add('has-error');
        }
      }
    }
  }, 500);
  
  // –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ —á–µ—Ä–µ–∑ —Å–æ–±—ã—Ç–∏–µ error
  iframe.onerror = function() {
    clearInterval(iframeCheckInterval);
    vpnMessage.classList.add('show');
    iframe.classList.add('has-error');
  };
}

// –§—É–Ω–∫—Ü–∏—è –ø–æ–≤—Ç–æ—Ä–Ω–æ–π –ø–æ–ø—ã—Ç–∫–∏ –∑–∞–≥—Ä—É–∑–∫–∏
function retryLoadingChat() {
  const iframe = document.getElementById('aiChatFrame');
  const vpnMessage = document.getElementById('vpnMessage');
  
  if (iframe && vpnMessage) {
    // –°–∫—Ä—ã–≤–∞–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ
    vpnMessage.classList.remove('show');
    iframe.classList.remove('has-error');
    
    // –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∂–∞–µ–º iframe
    const currentSrc = iframe.src;
    iframe.src = 'about:blank';
    
    setTimeout(() => {
      iframe.src = currentSrc;
      // –ó–∞–ø—É—Å–∫–∞–µ–º –ø—Ä–æ–≤–µ—Ä–∫—É –∑–∞–Ω–æ–≤–æ
      setTimeout(checkIframeLoad, 100);
    }, 100);
  }
}

// –ó–∞–ø—É—Å–∫–∞–µ–º –ø—Ä–æ–≤–µ—Ä–∫—É –ø—Ä–∏ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–∏ –Ω–∞ –≤–∫–ª–∞–¥–∫—É AI Chat
document.addEventListener('DOMContentLoaded', function() {
  // –ñ–¥–µ–º –∑–∞–≥—Ä—É–∑–∫–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
  setTimeout(() => {
    const originalSwitchSection = window.app && window.app.switchSection;
    
    if (originalSwitchSection) {
      window.app.switchSection = function(section) {
        originalSwitchSection.call(window.app, section);
        
        if (section === 'ai-chat') {
          // –ó–∞–ø—É—Å–∫–∞–µ–º –ø—Ä–æ–≤–µ—Ä–∫—É –ø—Ä–∏ –∫–∞–∂–¥–æ–º –ø–µ—Ä–µ—Ö–æ–¥–µ –Ω–∞ –≤–∫–ª–∞–¥–∫—É
          setTimeout(checkIframeLoad, 100);
        }
      };
    }
    
    // –ü—Ä–æ–≤–µ—Ä—è–µ–º –µ—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å—Ä–∞–∑—É –Ω–∞ —ç—Ç–æ–π –≤–∫–ª–∞–¥–∫–µ
    const aiChatSection = document.querySelector('#ai-chat');
    if (aiChatSection && aiChatSection.classList.contains('active')) {
      checkIframeLoad();
    }
  }, 1000);
});

// –¢–∞–∫–∂–µ –∑–∞–ø—É—Å–∫–∞–µ–º –ø—Ä–æ–≤–µ—Ä–∫—É –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
window.addEventListener('load', function() {
  const aiChatSection = document.querySelector('#ai-chat');
  if (aiChatSection && aiChatSection.classList.contains('active')) {
    checkIframeLoad();
  }
});
</script>
</body>
</html>









